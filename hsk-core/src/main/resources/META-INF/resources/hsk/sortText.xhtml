<?xml version="1.0" encoding="UTF-8"?>
<div xmlns="http://www.w3.org/1999/xhtml"     
     xmlns:cc="http://java.sun.com/jsf/composite"    
     xmlns:h="http://xmlns.jcp.org/jsf/html"
     xmlns:f="http://xmlns.jcp.org/jsf/core">
    <cc:interface>
        <cc:attribute name="name" required="true"/>
        <cc:attribute name="value" required="true"/>
        <cc:attribute name="styleClass"/>
        <cc:attribute name="title"/>
        <cc:attribute name="pagination" type="com.hiska.result.Pagination"/>
        <cc:attribute name="sortListener" method-signature="void m()"/>
        <cc:attribute name="update"/>
        <cc:attribute name="disabled" default="#{cc.attrs.pagination == null}"/>
        <cc:attribute name="active" default="#{cc.attrs.pagination.attr == cc.attrs.name}"/>
    </cc:interface>
    <cc:implementation>
        <span id="#{cc.clientId}"
              class="#{cc.attrs.styleClass}">
            <h:commandLink rendered="#{!cc.attrs.disabled}"
                           actionListener="#{cc.attrs.sortListener}"
                           title="#{cc.attrs.title} #{cc.attrs.active? cc.attrs.pagination.sort : ''}">
                #{cc.attrs.value}
                <h:outputText styleClass="fa fa-sort" rendered="#{!cc.attrs.active or cc.attrs.pagination.sortNone}"/>
                <h:outputText styleClass="fa fa-sort-up" rendered="#{cc.attrs.active and cc.attrs.pagination.sortAsc}"/>
                <h:outputText styleClass="fa fa-sort-down" rendered="#{cc.attrs.active and cc.attrs.pagination.sortDesc}"/>
                <f:ajax render="#{cc.clientId} #{cc.attrs.update}"
                        listener="#{cc.attrs.pagination.sort(cc.attrs.name)}"/>
            </h:commandLink>
            <h:outputText rendered="#{cc.attrs.disabled}" value="#{cc.attrs.value}"/>
        </span>
    </cc:implementation>
</div>
